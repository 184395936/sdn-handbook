# SDN数据平面

数据平面负责数据处理、转发和状态收集等。其核心设备为交换机，可以是物理交换机，也可以是虚拟交换机。

不同于传统网络转发设备，应用于SDN中的转发设备将数据平面与控制平面完全解耦，所有数据包的控制策略由远端的控制器通过南向接口协议下发，网络的配置管理同样也由控制器完成，这大大提高了网络管控的效率。交换设备只保留数据平面，专注于数据包的高速转发，降低了交换设备的复杂度。

## 转发决策

应用最广泛的南向接口协议OpenFlow协议用流表代替了传统网络设备二层和三层转发表，该流表中的每个表项都代表了一种流解析以及相应的处理动作。数据包进入SDN交换机后，先与流表进行匹配查找，若与其中一个表项匹配成功则执行相应处理动作，若无匹配项则上交控制器，由其决定处理决策。这些流程依旧是依赖网络设备内的交换芯片来实现的。

## 背板转发

目前，SDN应用最广泛的场景是数据中心，其对交换机数据交换速率的要求还是较高的。不过就目前的网络设备来说，设备的速率瓶颈点在交换芯片上，提供满足要求的交换速率并不是问题。

## 输出链路调度

正常情况下，数据包发往交换机某一端口或准备从交换机某一端口发出时，均需在端口队列中等待处理。而支持QoS的交换机则可能要对报文根据某些字段进行分类以进入有优先级的队列，对各个队列进行队列调度，以及修改报文中的QoS字段以形成整个链路的有机处理流程等。支持OpenFlow协议的SDN交换机对QoS的支持主要有基于流表项设置报文入队列、根据Meter进行限速、基于Counter进行计费、基于Group的Select进行队列调度等。

## 参考文档

- [基于SDN的数据中心网络技术研究](http://www.sdnlab.com/10543.html)
